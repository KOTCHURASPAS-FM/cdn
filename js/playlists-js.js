$(document).ready(function(){var t=$("#channel-selector"),e=$("#tableBody"),a=$("#playlistInfo"),n=$("#playlistHeader"),s=$("#loading");t.on("change",function(){a.fadeOut("fast",function(){s.fadeIn("fast",function(){var t=$("#channel-selector :selected"),d=new XMLHttpRequest;d.open("POST","/playlists",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.timeout=5e3,d.ontimeout=function(e){AddNotify('{"header":"Ошибка","msg":"Не удалось запросить плейлист для <b>'+t+'</b>","type":"danger"}')},d.send("channel="+t.data("ip")+":"+t.data("port")),d.onreadystatechange=function(){if(4==d.readyState&&200==d.status){var t=JSON.parse(d.responseText);n.empty(),n.append('<h4 class="title is-4">Основная информация</h4>'),n.append('<h6 class="title is-6">Количество треков: '+t.TracksCount+"</h6>"),e.empty();for(let a of t.Tracks)e.append('<tr><td class="is-dark">'+a.Index+'</td><td class="is-dark">'+a.CastTitle+'</td><td class="is-dark">'+a.Duration+'</td><td class="is-dark">'+a.NextPlay+"</td></tr>");s.fadeOut("fast",function(){a.fadeIn("fast",function(){})})}}})})})});
